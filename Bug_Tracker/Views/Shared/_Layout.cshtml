@using Microsoft.AspNet.Identity
@using Bug_Tracker.Helpers
@using Bug_Tracker.Models

@{
    UserHelper userHelper = new UserHelper();
    ProjectHelper projectHelper = new ProjectHelper();
    ApplicationDbContext db = new ApplicationDbContext();
    RoleHelper roleHelper = new RoleHelper();
    TicketHelper ticketHelper = new TicketHelper();
    ViewBag.ProjectManagerId = new SelectList(roleHelper.UsersInRole("ProjectManager"), "Id", "FullName");
    ViewBag.PM = new MultiSelectList(roleHelper.UsersInRole("ProjectManager"), "Id", "FullName");
    ViewBag.DeveloperIds = new MultiSelectList(roleHelper.UsersInRole("Developer"), "Id", "FullName");
    ViewBag.SubmitterIds = new MultiSelectList(roleHelper.UsersInRole("Submitter"), "Id", "FullName");
    ViewBag.DeveloperIds2 = new MultiSelectList(roleHelper.UsersInRole("Developer"), "Id", "FullName");
    ViewBag.SubmitterIds2 = new MultiSelectList(roleHelper.UsersInRole("Submitter"), "Id", "FullName");
    ViewBag.NoRole = new MultiSelectList(roleHelper.UsersInRole("Unassigned"), "Id", "FullName");
    ViewBag.RoleName = new SelectList(db.Roles, "Name", "Name");
    ViewBag.UserIds = new MultiSelectList(db.Users, "Id", "Email");
    var user = db.Users.Find(User.Identity.GetUserId());
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bug Tracker</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Font Awesome -->
    <link href="~/Content/all.min.css" rel="stylesheet" />
    <!-- Tempusdominus Bbootstrap 4 -->
    <link href="~/Content/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
    <!-- iCheck -->
    <link href="~/Content/icheck-bootstrap.min.css" rel="stylesheet" />
    <!-- JQVMap -->
    <link href="~/Content/jqvmap.min.css" rel="stylesheet" />
    <!-- Theme style -->
    <link href="~/Content/adminlte.css" rel="stylesheet" />
    <!-- overlayScrollbars -->
    <link href="~/Content/OverlayScrollbars.min.css" rel="stylesheet" />
    <!-- Daterange picker -->
    <link href="~/Content/daterangepicker.css" rel="stylesheet" />
    <!-- summernote -->
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css" rel="stylesheet" />


</head>
<body class="hold-transition sidebar-mini layout-fixed">
    <style>
        #table_id8_length {
            margin-bottom: -30px
        }

        .try {
            display: flex;
            width: 100%;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        try:before,
        try:after {
            content: '';
            border-top: 2px solid;
            margin: 0 20px 0 0;
            flex: 1 0 20px;
        }

        try:after {
            margin: 0 0 0 20px;
        }

        .image-cropper {
            width: 100px;
            height: 100px;
            position: relative;
            overflow: hidden;
            border-radius: 50%;
        }

        .profile-pic {
            display: inline;
            margin: 0 auto;
            margin-left: -25%;
            width: auto;
        }

        #PM {
            height: 10rem
        }

        #DeveloperIds {
            height: 10rem
        }

        #SubmitterIds {
            height: 10rem
        }

        #DeveloperIds2 {
            height: 10rem
        }

        #SubmitterIds2 {
            height: 10rem
        }

        #NoRole {
            height: 10rem
        }

        .tabs {
            position: relative;
            margin: 1rem 0rem;
            background-color: cornflowerblue;
            height: auto;
            width: 100%;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px
        }

            .tabs::before,
            .tabs::after {
                content: "";
                display: table;
            }

            .tabs::after {
                clear: both;
            }

        .tab {
            float: left;
        }

        .tab-switch {
            display: none;
        }

        .tab-label {
            position: relative;
            display: block;
            line-height: 2.75em;
            height: 3em;
            padding: 0 5.45rem;
            background-color: cornflowerblue;
            border-right: 0.125rem solid cornflowerblue;
            color: #fff;
            cursor: pointer;
            top: 0;
            transition: all 0.25s;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px
        }

            .tab-label:hover {
                top: -0.25rem;
                transition: top 0.25s;
            }

        .tab-content {
            height: 28.5rem;
            position: absolute;
            z-index: 1;
            top: 2.75em;
            left: 0;
            padding: 1.618rem;
            background: #fff;
            color: #2c3e50;
            border-bottom: 0.25rem solid cornflowerblue;
            opacity: 0;
            transition: all 0.35s;
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 4px
        }

        .tab-switch:checked + .tab-label {
            background: #fff;
            color: #2c3e50;
            border-bottom: 0;
            border-right: 0.125rem solid #fff;
            transition: all 0.35s;
            z-index: 1;
            top: -0.0625rem;
        }

        .tab-switch:checked + label + .tab-content {
            z-index: 2;
            opacity: 1;
            transition: all 0.35s;
        }
    </style>
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="modal fade ct" id="pmodal" style="margin-top:3rem">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="background-color: rgba(52, 58, 64, 0.98); color:white">
                            <div class="modal-body" style=" padding:30px">
                                <div class="row">
                                    <div class="col-6 text-center">
                                        <h3>Name</h3>

                                        @using (Html.BeginForm("ChangeName", "Manage", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                        {
                                            <h5>
                                                @Html.TextBox("firstName", null, new { @placeholder = "First Name", @style = "Width:70%" })
                                            </h5>
                                            <h5>
                                                @Html.TextBox("lastName", null, new { @placeholder = "Last Name", @style = "Width:70%" })
                                            </h5>
                                            <h5>
                                                <button type="submit" class="btn" style="background-color:cornflowerblue; width:70%; color:white">Change Name</button>
                                            </h5>
                                        }

                                    </div>
                                    <div class="col-6 text-center">
                                        <h3>Password</h3>
                                        <h3 style="margin-top:5.5rem; color:cornflowerblue; cursor:pointer;" onclick="window.location.href='@Url.Action("ChangePassword", "Manage")'">
                                            Change Password
                                        </h3>
                                    </div>

                                </div>

                                <div class="row" style="margin-top:4rem">
                                    <div class="col text-center">
                                        <h3>
                                            Profile Picture
                                        </h3>
                                        <h3>
                                            <img src="@userHelper.GetAvatarPath()" height="200" />
                                        </h3>
                                    </div>
                                    <div class="col text-center">
                                        @using (Html.BeginForm("ChangeAvatar", "Manage", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                        {
                                            <div class="row">
                                                <div class="col text-center">
                                                    <h3>Update Profile Picture</h3>
                                                </div>
                                            </div>
                                            <div class="row" style="margin-top:4rem">
                                                <div class="col" style="left:38px">
                                                    <input type="file" name="file" id="file" />
                                                </div>
                                            </div>
                                            <div class="row" style="margin-top:4rem">
                                                <div class="col text-center">
                                                    <button type="submit" class="btn" style="width:60%; background-color:cornflowerblue; color:white">Update Picture</button>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="modal fade ct" id="jmodal" style="margin-top:3rem">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="background-color: rgba(52, 58, 64, 0.98); color:white">
                            <div class="modal-header text-center" style=" ">
                                <h2 class="modal-title w-100">New Project</h2>
                            </div>
                            <div class="modal-body" style="height:35rem;">
                                @using (Html.BeginForm("ProjectWizard", "Projects", FormMethod.Post, new { @class = "login100-form validate-form", role = "form" }))
                                {
                                    @Html.AntiForgeryToken()
                                    <div class="tabs" style="width:100% !important;">
                                        <div class="tab">
                                            <input type="radio" name="css-tabs" id="tab-1" checked class="tab-switch">
                                            <label for="tab-1" class="tab-label">Management</label>
                                            <div class="tab-content" style="width:100% !important;">
                                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                                                <div class="col" style="margin-top:6rem">Name</div>
                                                <div class="col-md-10">
                                                    @Html.Editor("Name", new { htmlAttributes = new { @class = "form-control" } })
                                                </div>
                                                <div class="col" style="margin-top:4rem">Project Manager</div>
                                                <div class="col-md-10">
                                                    @Html.DropDownList("ProjectManagerId", null, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                                <div class="row">
                                                    <div class="col text-right">
                                                        <button class="btn" type="button" style="background-color:cornflowerblue; color:white; font-size:22px; margin-top:4rem; padding-top:5px" id="getName">Next</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab">
                                            <input type="radio" name="css-tabs" id="tab-2" class="tab-switch">
                                            <label for="tab-2" class="tab-label">Project Team</label>
                                            <div class="tab-content" style="width:100% !important">
                                                <div class="col-md-10">
                                                    Developers
                                                    @Html.ListBox("DeveloperIds", null, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-10">
                                                        Submitters
                                                        @Html.ListBox("SubmitterIds", null, htmlAttributes: new { @class = "form-control" })
                                                    </div>
                                                    <div class="col text-right">
                                                        <button class="btn" type="button" style="background-color:cornflowerblue; color:white; font-size:22px;margin-top:10rem ;padding-top:5px" id="getName2">Next</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab">
                                            <input type="radio" name="css-tabs" id="tab-3" class="tab-switch">
                                            <label for="tab-3" class="tab-label">Review</label>
                                            <div class="tab-content" style="width:100% !important">
                                                <div class="form-group">
                                                    <div class="row" style="margin-top:8rem">
                                                        <div class="col-12 text-center">
                                                            <h2 id="preview"> </h2>
                                                            <input type="submit" value="Create" class="btn btn-default" style="padding:5px 15px 5px 15px; font-size:25px; background-color:cornflowerblue; color:white;margin-top:0.5rem" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="modal fade ct" id="rmodal" style="margin-top:3rem">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="background-color: rgba(52, 58, 64, 0.98); color:white">
                            <div class="modal-header text-center" style=" ">
                                <h2 class="modal-title w-100">Role Manager</h2>
                            </div>
                            <div class="modal-body" style="height:35rem;">
                                @using (Html.BeginForm("ManageRoles", "Assignments", FormMethod.Post, new { @class = "login100-form validate-form", role = "form" }))
                                {
                                    @Html.AntiForgeryToken()
                                    <div class="row">

                                        <div class="col-sm-6">
                                            Project Managers<br />
                                            @Html.ListBox("PM", null, htmlAttributes: new { @class = "form-control" })
                                        </div>


                                        <div class="col-sm-6">
                                            Developers
                                            @Html.ListBox("DeveloperIds2", null, htmlAttributes: new { @class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class="col-sm-6">
                                            Submitters
                                            @Html.ListBox("SubmitterIds2", null, htmlAttributes: new { @class = "form-control" })
                                        </div>

                                        <div class="col-sm-6">
                                            Unassigned
                                            @Html.ListBox("NoRole", null, htmlAttributes: new { @class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top:3rem">
                                        <div class="col-sm-6">
                                            Roles
                                            @Html.DropDownList("RoleName", null, htmlAttributes: new { @class = "form-control" })
                                        </div>
                                        <div class="col-sm-6">
                                            <input type="submit" value="Assign To Role" class="btn btn-default float-right" style="margin-top:1.5rem; width:100%; background-color:cornflowerblue; color:white" />
                                        </div>
                                    </div>

                                }

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="modal fade ct" id="xmodal" style="margin-top:1rem">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="background-color: rgba(52, 58, 64, 0.98); color:white">
                            <div class="modal-header text-center" style=" ">
                                <h2 class="modal-title w-100">
                                    Notifications
                                </h2>
                            </div>
                            <div class="modal-body" style=" padding:30px">
                                @if (user.Notifications.Count() > 0)
                                {
                                    <table id="table_id8" class="table-bordered table bg-transparent dataTable">
                                        <thead>
                                            <tr>
                                                <th>
                                                    Notification
                                                </th>
                                                <th>
                                                    Ticket
                                                </th>
                                                <th>
                                                    Priority
                                                </th>
                                                <th>
                                                    Created
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var notification in user.Notifications)
                                            {
                                                <tr style="cursor:pointer;" onclick="window.location.href='@Url.Action("Details", "Tickets", new { notification.Ticket.Id })'">
                                                    @if (notification.IsRead == false)
                                                    {
                                                        <td style=" color: cornflowerblue">
                                                            @notification.Message
                                                        </td>
                                                    }
                                                    else
                                                    {
                                                        <td>
                                                            @notification.Message
                                                        </td>
                                                    }

                                                    <td>
                                                        @notification.Ticket.Title
                                                    </td>
                                                    <td>
                                                        @notification.Ticket.TicketPriority.Name
                                                    </td>
                                                    <td>
                                                        @notification.Created
                                                    </td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>

                                    <div>
                                        @using (Html.BeginForm("Flip", "TicketNotifications", FormMethod.Post, new { @class = "login100-form validate-form", role = "form" }))
                                        {
                                            @Html.AntiForgeryToken()
                                            <button type="submit" class="btn" style="background-color:cornflowerblue; margin-top:1rem; color:white">Seen All</button>
                                        }
                                    </div>
                                }
                                else
                                {
                                    <div class="row" style="margin:10rem 0 10rem 0">
                                        <div class="col text-center">
                                            <h2> You have not received any notifications <i class="fa fa-check-circle"></i> </h2>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="wrapper">
        <nav class="main-header navbar navbar-expand navbar-light" style="font-size:23px; vertical-align:middle; background-color:#f4f6f9; border-bottom:none !important">
            <!-- Left navbar links -->
            <ul class="navbar-nav" style="vertical-align:middle">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>
            </ul>

            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">
                <!-- Notifications Dropdown Menu -->
                @if (User.IsInRole("Admin"))
                {
                    <li class="nav-item dropdown">
                        <a class="nav-link" data-toggle="modal" data-target="#xmodal" href="#">
                            <i class="far fa-bell"></i>
                            <span class="badge badge-warning navbar-badge">@user.Notifications.Where(g => g.IsRead == false).Count()</span>
                        </a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link" data-toggle="dropdown" href="#">
                            <i class="far fa-user"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                            @Html.Action("_LoginPartial", "Home")
                            <div class="dropdown-divider"></div>
                        </div>
                    </li>
                }
                else
                {
                    <li style="visibility:hidden; max-height:10px"> @Html.Action("_LoginPartial", "Home")</li>
                }
            </ul>
        </nav>
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <!-- Brand Logo -->
            <a href="@Url.Action("Index","Home")" class="brand-link text-center">
                <span class="brand-text">Bug Tracker</span>
            </a>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Sidebar user panel (optional) -->
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        @if (userHelper.GetAvatarPath() != null)
                        {
                            <img src="@userHelper.GetAvatarPath()" class="img-circle elevation-2" alt="User Image" width="20">
                        }

                    </div>
                    <div class="info">
                        <a href="@Url.Action("Index","Account", new { userid = User.Identity.GetUserId() })" class="d-block">@userHelper.GetFullName(User.Identity.GetUserId())</a>
                    </div>
                </div>

                <!-- Sidebar Menu -->
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false" style="margin-top:1.5rem">
                        <!-- Add icons to the links using the .nav-icon class
                        with font-awesome or any other icon font library -->
                        <li class="nav-item">
                            <a href="@Url.Action("Index","Home")" class="nav-link">
                                <i class="nav-icon fas fa-tachometer-alt"></i>
                                <p>
                                    Dashboard
                                </p>
                            </a>
                        </li>
                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-copy"></i>
                                <p>
                                    Projects
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href=@Url.Action("Index","Projects") class="nav-link" style="color:cornflowerblue !important">
                                        <i class="fas fa-atlas nav-icon"></i>
                                        <p>All Projects</p>
                                    </a>
                                </li>
                                @if (User.IsInRole("Admin"))
                                {
                                    foreach (var project in projectHelper.ListProjects().OrderByDescending(j => j.Created).Take(5))
                                    {
                                        <li class="nav-item">
                                            <a href=@Url.Action("Details","Projects", new { id = project.Id}) class="nav-link">
                                                <i class="fa fa-file nav-icon"></i>
                                                <p>@project.Name</p>
                                            </a>
                                        </li>
                                    }
                                }
                                else
                                {
                                    foreach (var project in projectHelper.ListUserProjects(User.Identity.GetUserId()).Take(5))
                                    {
                                        <li class="nav-item">
                                            <a href=@Url.Action("Details","Projects", new { id = project.Id}) class="nav-link">
                                                <i class="fa fa-file nav-icon"></i>
                                                <p>@project.Name</p>
                                            </a>
                                        </li>
                                    }
                                }
                            </ul>
                        </li>
                        <li class="nav-item has-treeview">
                            <a href="@Url.Action("Index", "Tickets")" class="nav-link">
                                <i class="nav-icon fas fa-ticket-alt"></i>
                                <p>
                                    Tickets
                                </p>
                            </a>
                        </li>
                        @if (User.IsInRole("Admin") || User.IsInRole("ProjectManager"))
                        {
                            <li class="nav-item has-treeview">
                                <a href=@Url.Action("Index", "Users") class="nav-link">
                                    <i class="nav-icon fas fa-users"></i>
                                    <p>
                                        Users
                                        <i class="fas fa-angle-left right"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href=@Url.Action("Index","Users") class="nav-link" style="color:cornflowerblue !important">
                                            <i class="fas fa-atlas nav-icon"></i>
                                            <p>All Users</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href=@Url.Action("Index","Users", new { role = "ProjectManager" }) class="nav-link">
                                            <i class="fas fa-user-alt nav-icon"></i>
                                            <p>Managers</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href=@Url.Action("Index","Users", new { role = "Developer" }) class="nav-link">
                                            <i class="fas fa-user nav-icon"></i>
                                            <p>Developers</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href=@Url.Action("Index","Users", new { role = "Submitter" }) class="nav-link">
                                            <i class="fas fa-user nav-icon"></i>
                                            <p>Submitters</p>
                                        </a>
                                    </li>
                                    @if (roleHelper.UsersInRole("Unassigned").Count() > 0)
                                    {
                                        <li class="nav-item">
                                            <a href=@Url.Action("Index","Users", new { role = "Unassigned" }) class="nav-link">
                                                <i class="fas fa-user nav-icon"></i>
                                                <p>Unassigned</p>
                                            </a>
                                        </li>
                                    }
                                </ul>
                            </li>

                        }

                        @if (User.IsInRole("Admin"))
                        {
                            <li class="nav-item" style="cursor:pointer; margin-top:10em;background-color:forestgreen !important; color:white; border-radius:5px" data-toggle="modal" data-target="#jmodal">
                                <a @*href=@Url.Action("ProjectWizard","Projects")*@ class="nav-link" style="color:white; padding-top:10px">
                                    <i class="fas fa-edit nav-icon"></i>
                                    <p>Create New Project</p>
                                </a>
                            </li>
                            <li class="nav-item" style="cursor: pointer; background-color:cornflowerblue; margin-top:2em; border-radius:5px" data-toggle="modal" data-target="#rmodal">
                                <a @*href=@Url.Action("ManageRoles", "Assignments")*@ class="nav-link" style="color:white;padding-top:10px">
                                    <i class="fa fa-tasks nav-icon"></i>
                                    <p>Manage Roles</p>
                                </a>
                            </li>
                            <li class="nav-item" style="background-color:#c6371c; margin-top:2em; margin-bottom:2em; border-radius:5px">
                                <a href="javascript:document.getElementById('logoutForm').submit()" class="nav-link" style="padding-top:10px;color: white">
                                    <i class="nav-icon far fa-bookmark"></i>
                                    <p style="color: white">
                                        Log Off
                                    </p>
                                </a>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item" style="background-color:forestgreen; cursor:pointer  ;margin-top:10em; border-radius:5px" data-toggle="modal" data-target="#xmodal">
                                <a class="nav-link" style="padding-top:12px">
                                    <i class="nav-icon fa fa-bell"></i>
                                    <p style="color: white">
                                        Notifications
                                        <span class="text-sm-right" style="margin-left:3.5rem; background-color:#343a40; padding:0.1rem 0.5rem 0.1rem 0.5rem; border-radius:4px">@user.Notifications.Where(g => g.IsRead == false).Count()</span>
                                    </p>
                                </a>
                            </li>
                            <li class="nav-item" style="background-color:cornflowerblue;  margin-top:2em; border-radius:5px; cursor:pointer" data-toggle="modal" data-target="#pmodal">
                                <a @*href="@Url.Action("Index","Manage", new { id = User.Identity.GetUserId() })"*@ class="nav-link" style="padding-top:10px;color: white">
                                    <i class="nav-icon fa fa-user-cog"></i>
                                    <p style="color: white">
                                        Account
                                    </p>
                                </a>
                            </li>
                            <li class="nav-item" style="background-color:#c6371c; margin-top:2em; border-radius:5px">
                                <a href="javascript:document.getElementById('logoutForm').submit()" class="nav-link" style="padding-top:12px">
                                    <i class="nav-icon fa fa-sign-out-alt"></i>
                                    <p style="color: white">
                                        Log Off
                                    </p>
                                </a>
                            </li>
                        }

                    </ul>
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <div class="content-wrapper">
            <div class="container-fluid">
                <div class="container-fluid">
                    @RenderBody()
                </div>
            </div>
        </div>

    </div>
    <script src="~/Scripts/jquery-3.2.1.min.js"></script>


    <!-- jQuery UI 1.11.4 -->
    <script src="~/Scripts/jquery-ui.min.js"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
        $.widget.bridge('uibutton', $.ui.button)
    </script>
    <!-- Bootstrap 4 -->
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    <!-- ChartJS -->
    <script src="~/Scripts/Chart.min.js"></script>
    <!-- Sparkline -->
    <script src="~/Scripts/sparkline.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="~/Scripts/jquery.knob.min.js"></script>
    <!-- daterangepicker -->
    <script src="~/Scripts/moment.min.js"></script>
    <script src="~/Scripts/daterangepicker.js"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="~/Scripts/tempusdominus-bootstrap-4.min.js"></script>
    <!-- Summernote -->
    <script src="~/Scripts/summernote-bs4.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="~/Scripts/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="~/Scripts/adminlte.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="~/Scripts/dashboard.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="~/Scripts/demo.js"></script>

    <script src="~/Scripts/jquery.vmap.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>

    <script>
        $(document).ready(function () {
            $('#table_id8').DataTable({
                "pageLength": 5,
                "order": [[3, "desc"]]
            });
        });
        $("#getName").on("click", function () {
            document.getElementById("tab-2").click();
        });
        $("#getName2").on("click", function () {
            document.getElementById("tab-3").click();
        });
        $("#tab-3").on("click", function () {
            var name = document.getElementById("Name").value
            $("#preview").html(`${name}`);
        });
    </script>

    @RenderSection("scripts", required: false)

</body>


</html>
